import socket
import ipaddress
import subprocess
import re

#ipconfig = subprocess.check_output(["ipconfig"])

IP = socket.gethostbyname(socket.gethostname())#ipconfig.decode('utf8').split("\n\r").#.split('\r\n')[1].split(': ')[1]

print(IP)

binaryCIDR = ['0b11111111','0b11111111', '0b11111111', '0b00000000']

splitIP = IP.split('.')
print(IP)
binaryIP = []
for x in splitIP:
    print(x)
    binaryIP.append(bin(int(x)))

networkIPlist = []
for x in binaryIP:
    y = binaryCIDR[binaryIP.index(x)]
    networkIPlist.append(str(int(x, 2) & int(y, 2)))

networkIP = '.'.join(networkIPlist)
networkIPlist[-1] = '255'


print(str(broadcastIP))
ping = subprocess.check_output(["ping", str(broadcastIP)])
print(ping.decode('utf8'))
