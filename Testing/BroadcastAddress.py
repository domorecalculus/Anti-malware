import ipaddress
import subprocess
import re

ipconfig = subprocess.check_output(["ipconfig"])

IP = ipconfig.decode('utf8').split("\n\r")[3].split('\r\n')[1].split(': ')[1]

binaryCIDR = ['0b11111111','0b11111111', '0b00000000', '0b00000000']

splitIP = IP.split('.')
binaryIP = []
for x in splitIP:
    binaryIP.append(bin(int(x)))

networkIPlist = []
for x in binaryIP:
    y = binaryCIDR[binaryIP.index(x)]
    networkIPlist.append(str(int(x, 2) & int(y, 2)))

networkIP = '.'.join(networkIPlist)
network = ipaddress.IPv4Network(networkIP)
broadcastIP = network.broadcast_address
print(str(broadcastIP))
ping = subprocess.check_output(["ping", str(broadcastIP)])
print(ping.decode('utf8'))
